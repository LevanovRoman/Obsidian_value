У описанных ниже команд есть общий синтаксис, который выглядит так: **docker image** _**название команды**_. Названия, собственно, ниже:

- **build** — собирает образ с нуля.
- **push** — отправляет образ в реестр.
- **pull** — загружает готовый образ с необходимыми для работы параметрами.
- **ls** — показывает все существующие образы.
- **history** — показывает каждый слой образа в ретроспективе, отображая ряд полезных сведений.
- **inspect** — рассказывает все, что известно об образе, включая данные, касающиеся отдельных слоев.
- **rm** — удаляет образ Docker из системы.
- **images** — списком показывает все образы Docker, найденные на диске.

Рассмотрим каждую из них немного подробнее.

### **build**

С помощью этой команды можно собрать образ, используя заранее подобранные параметры. Собираются одни из данных, хранящихся в файлах Dockerfile. Они находятся по определенным URL или заранее загружены в файловую систему. 

Синтаксис следующий: **docker image build [опции] _название и адрес файла Dockerfile_, _из которого будет собран образ_.**

Например, если вы хотите собрать образ с названием Timeweb и тегом host в директории moy_repositoriy, то надо ввести в терминал:

docker image build -t moy_repositoriy/timeweb:host

Образами можно делиться через сервис Docker Hub. Тогда ими смогут пользоваться другие пользователи Docker, указав при сборке соотвествующий адрес. Для входа в Hub используется команда **docker login** (еще упомянем ее ниже). 

### **push**

После сборки образа на диске хостинга его можно разместить в Docker Hub с помощью отдельной команды. 

Синтаксис следующий: **docker image push [опции] _название и адрес, где будет размещен образ_**

К примеру, чтобы отправить в хаб образ Timeweb, который мы создали ранее, нужно ввести в терминал:

docker image push moy_repositoriy/timeweb:host

Он будет размещен по адресу, указанному в команде **push**. После этого его смогут вытащить другие пользователи. 

### **pull**

В Docker Hub находится большой список уже готовых образов, которые были созданы вами или другими пользователями. Чтобы не собирать новые из Dockerfile, можно скачать уже имеющиеся и работать с ними. Чтобы их вытащить, нужна команда **pull**.

Синтаксис следующий: **docker image pull [опции] _название и адрес, где будет размещен образ._**

К примеру, чтобы вытащить из хаба образ Timeweb, который мы создали ранее, нужно ввести в терминал:

docker image pull moy_repositoriy/timeweb:host

Аналогичным образом его смогут вытаскивать другие пользователи, обращаясь к адресу и названию образа, которые вы указывали. 

### **ls**

**docker image ls** отвечает за отображение в терминале дополнительной информации об образах. Она показывает их список (как и в случае с контейнерами) и информацию о размере каждого.

Синтаксис следующий: **docker image pull [опции][адрес репозитория:тег]**.

В вывод команды можно добавить другие данные с помощью отдельных ключей:

**-a** — увеличивает список отображаемых образов за счет отображения даже промежуточных. **–digests** — добавляет в вывод команды еще и дайджесты. **-f** — фильтрует выдачу по заранее определенным условиям. **–format** — меняет формат отображения данных на основе шаблона Go. **–no-trunc** — отключает усечение информации в терминале. **-q** — показывает ID вместо названий образов. 

### **history**

Показывает своего рода историю образа. Речь идет о «слоях», то есть промежуточных вариациях образа, входящих в его состав. Команда **history** показывает их названия, размер и дату создания.

Синтаксис следующий: **docker history [опции]** _**название образа.**_

Например, чтобы отобразить слои образа Timeweb, введем в терминал:

docker image history timeweb

### **inspect (для образа)**

Отображает подробную информацию из Docker после обращения к конкретному образу.

Синтаксис следующий: **docker inspect [опции]** _**название или ID контейнера**_ **[название контейнера или образа]**.

По умолчанию отображает данные в формате JSON. Можно использовать дополнительные опции **–format** для смены формата данных. Опция **-s** показывает размер инспектируемых элементов.

docker inspect –format=‘{{.Config.Image}}’ $INSTANCE_ID — пример вывода информации о названии образа

docker inspect –format=‘{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}’ $INSTANCE_ID — пример вывода информации об IP-адресе

### **rm**

Команда удаления одного или нескольких образов Docker, найденных на диске вашего хостинга. 

Синтаксис следующий: **docker rm [опции]** _**название и путь до образа**._

Чтобы удалить образ Timeweb из системы, нужно ввести:

docker rm moy_repositoriy/testing_timeweb:host

Эта команда позволяет выбирать только образы, которые хранятся локально. Удаленные элементы из репозитория удалить не получится. 

Чтобы удалить все локальные образы, обнаруженные в системе, введем в терминал:

docker image rm $(docker images -a -q)

### **images**

Команда показывает все образы Docker, которые расположены на жестком диске вашего сервера (или локально). 

Вывод команды **docker images** выглядит так:

|   |   |   |   |   |
|---|---|---|---|---|
|**REPOSITORY**|**TAG**|**IMAGE ID**|**CREATED**|**SIZE**|
|fedora|new|990fqD00124|12 hours ago|209MB|
|httpd|new|24eaet001s0s|24 hours ago|152MB|
|ubuntu|recent|30e102f4fas2|1 week ago|179MB|
|fedora|recent|92s0qF0D104|2 weeks ago|133MB|
|ubuntu|new|1d42e9ss40ft|24 hours ago|161MB|
|fedora|recent|eSS208s6das2|1 week ago|190MB|
|mysql|tag|pq544s09efg0|38 hours ago|452MB|

Здесь отображаются следующие данные, касающиеся образа:

**REPOSITORY** — это репозитория, в котором хранится образ. **TAG** — привязанный к нему тег (прописывается в конце команды после двоеточия. Например, **docker image build moy_repositoriy/testing_timeweb:host**. **IMAGE ID** — код образа, используемый вместо имени. **CREATED** — срок жизни. Показывает, как давно был создан образ. Неделю назад, 12 часов назад и т.п. **SIZE** — пространство, которое образ занимает на диске.

