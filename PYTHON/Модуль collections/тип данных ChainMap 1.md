–í Python 3.3 –≤ –º–æ–¥—É–ª—å¬†`collections`¬†–¥–æ–±–∞–≤–∏–ª–∏ –Ω–æ–≤—ã–π —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö¬†`ChainMap`, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∏–∑ —Å–µ–±—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–ª–æ–≤–∞—Ä–µ–π. –≠—Ç–æ—Ç –æ–±—ä–µ–∫—Ç –≥—Ä—É–ø–ø–∏—Ä—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ª–æ–≤–∞—Ä–µ–π¬†–≤–º–µ—Å—Ç–µ, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏—Ö¬†–∫–∞–∫ –µ–¥–∏–Ω–æ–µ —Ü–µ–ª–æ–µ.

### –°–æ–∑–¥–∞–Ω–∏–µ ChainMap –æ–±—ä–µ–∫—Ç–∞

–û–±—ä–µ–∫—Ç—ã —Ç–∏–ø–∞¬†`ChainMap`¬†–æ–±—ã—á–Ω–æ —Å–æ–∑–¥–∞—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–ª–æ–≤–∞—Ä–µ–π.

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥:

```python
from collections import ChainMap

empty_chain_map = ChainMap()                      # —Å–æ–∑–¥–∞–µ–º –ø—É—Å—Ç–æ–π ChainMap –æ–±—ä–µ–∫—Ç
print(empty_chain_map)

numbers = {'one': 1, 'two': 2}
letters = {'a': 'A', 'b': 'B'}

chain_map = ChainMap(numbers, letters)            # —Å–æ–∑–¥–∞–µ–º ChainMap –æ–±—ä–µ–∫—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–ª–æ–≤–∞—Ä–µ–π numbers –∏ letters
print(chain_map)
```

–≤—ã–≤–æ–¥–∏—Ç:

```no-highlight
ChainMap({})
ChainMap({'one': 1, 'two': 2}, {'a': 'A', 'b': 'B'})
```

–ú—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã —Ç–∏–ø–∞¬†`ChainMap`, –∏—Å–ø–æ–ª—å–∑—É—è –º–µ—Ç–æ–¥¬†`fromkeys()`.

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥:

```python
from collections import ChainMap

chain_map1 = ChainMap.fromkeys(['one', 'two', 'three'])
chain_map2 = ChainMap.fromkeys(['one', 'two', 'three'], -1)

print(chain_map1)
print(chain_map2)
```

–≤—ã–≤–æ–¥–∏—Ç:

```no-highlight
ChainMap({'one': None, 'two': None, 'three': None})
ChainMap({'one': -1, 'two': -1, 'three': -1})
```

### –î–æ—Å—Ç—É–ø –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º ChainMap –æ–±—ä–µ–∫—Ç–∞

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ –∫–ª—é—á—É –≤¬†`ChainMap`¬†–æ–±—ä–µ–∫—Ç–∞—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–∞–∫–æ–π –∂–µ –º–µ—Ö–∞–Ω–∏–∑–º, –∫–∞–∫ –∏ –≤ –æ–±—ã—á–Ω—ã—Ö —Å–ª–æ–≤–∞—Ä—è—Ö (—Ç–∏–ø¬†`dict`). –õ–∏–±–æ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ —Å–∫–æ–±–∫–∏, –ª–∏–±–æ –º–µ—Ç–æ–¥¬†`get()`.

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥:

```python
from collections import ChainMap

numbers = {'one': 1, 'two': 2}
letters = {'a': 'A', 'b': 'B'}

alpha_num = ChainMap(numbers, letters)


print(alpha_num['one'])
print(alpha_num['b'])
print(alpha_num.get('a'))
print(alpha_num.get('c'))
print(alpha_num.get('d', False))
```

–≤—ã–≤–æ–¥–∏—Ç:

```no-highlight
1
B
A
None
False
```

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º¬†`ChainMap`¬†–æ–±—ä–µ–∫—Ç –≤ –∫–æ—Ç–æ—Ä–æ–º –µ—Å—Ç—å –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –∫–ª—é—á–∏ –≤ –æ–±—ä–µ–¥–∏–Ω—è–µ–º—ã—Ö —Å–ª–æ–≤–∞—Ä—è—Ö.

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥:

```python
from collections import ChainMap

for_adoption = {'dogs': 15, 'cats': 8, 'pythons': 9}
vet_treatment = {'dogs': 7, 'cats': 2, 'tigers': 3}

pets = ChainMap(for_adoption, vet_treatment)

print(pets['dogs'])
print(pets['cats'])

print(pets['pythons'])
print(pets['tigers'])
```

–≤—ã–≤–æ–¥–∏—Ç:¬†

```no-highlight
15
8
9
3
```

–ö–∞–∫ –º—ã –≤–∏–¥–∏–º, –≤ —Å–∏—Ç—É–∞—Ü–∏–∏ –∫–æ–≥–¥–∞ —É –æ–±—ä–µ–¥–∏–Ω—è–µ–º—ã—Ö —Å–ª–æ–≤–∞—Ä–µ–π –µ—Å—Ç—å –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –∫–ª—é—á–∏, –º—ã –ø–æ–ª—É—á–∞–µ–º —Ç–æ–ª—å–∫–æ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –ø–µ—Ä–≤–æ–≥–æ —Å–ª–æ–≤–∞—Ä—è, –≤ –∫–æ—Ç–æ—Ä–æ–º –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è —ç—Ç–æ—Ç –∫–ª—é—á.¬†–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –ø–æ–∏—Å–∫ –ø–æ¬†`ChainMap`¬†–æ–±—ä–µ–∫—Ç—É –≤—Å–µ–≥–¥–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –≤ —Ç–æ–º –∂–µ –ø–æ—Ä—è–¥–∫–µ, –≤ –∫–æ—Ç–æ—Ä–æ–º —Å–ª–æ–≤–∞—Ä–∏ –±—ã–ª–∏ —É–∫–∞–∑–∞–Ω—ã –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏¬†`ChainMap`¬†–æ–±—ä–µ–∫—Ç–∞, –ø—Ä–∏ —ç—Ç–æ–º –ø–æ–∏—Å–∫ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è, –∫–∞–∫ —Ç–æ–ª—å–∫–æ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ –Ω—É–∂–Ω–æ–º—É –∫–ª—é—á—É –Ω–∞–π–¥–µ–Ω–æ.

### –ò—Ç–µ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ ChainMap –æ–±—ä–µ–∫—Ç—É

–ò—Ç–µ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ¬†`ChainMap`¬†–æ–±—ä–µ–∫—Ç—É –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç¬†**–≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ**¬†–æ—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —Å–ª–æ–≤–∞—Ä—è –∫ –ø–µ—Ä–≤–æ–º—É.

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥:

```python
from collections import ChainMap

numbers = {'one': 1, 'two': 2}
letters = {'a': 'A', 'b': 'B'}

alpha_num = ChainMap(numbers, letters)

for key in alpha_num:
    print(key, '->', alpha_num[key])
```

–≤—ã–≤–æ–¥–∏—Ç:

```no-highlight
a -> A
b -> B
one -> 1
two -> 2
```

–ü—Ä–∏ —ç—Ç–æ–º –µ—Å–ª–∏ –≤¬†`ChainMap`¬†–æ–±—ä–µ–∫—Ç–µ –µ—Å—Ç—å –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –∫–ª—é—á–∏ –≤ –æ–±—ä–µ–¥–∏–Ω—è–µ–º—ã—Ö —Å–ª–æ–≤–∞—Ä—è—Ö, —Ç–æ –º—ã –±—É–¥–µ–º –ø–æ–ª—É—á–∞—Ç—å –ø–µ—Ä–≤–æ–µ –∏–∑ –∑–Ω–∞—á–µ–Ω–∏–π.

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥:

```python
from collections import ChainMap

for_adoption = {'dogs': 15, 'cats': 8, 'pythons': 9}
vet_treatment = {'dogs': 7, 'cats': 2, 'tigers': 3}

pets = ChainMap(for_adoption, vet_treatment)

for key in pets:
    print(key, '->', pets[key])
```

–≤—ã–≤–æ–¥–∏—Ç:¬†

```no-highlight
dogs -> 15
cats -> 8
tigers -> 3
pythons -> 9
```

–ü—Ä–∏ –∏—Ç–µ—Ä–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø–æ¬†`ChainMap`¬†–æ–±—ä–µ–∫—Ç—É –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã¬†`keys(), values(), items()`.

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥:

```python
from collections import ChainMap

for_adoption = {'dogs': 15, 'cats': 8, 'pythons': 9}
vet_treatment = {'dogs': 7, 'cats': 2, 'tigers': 3}

pets = ChainMap(for_adoption, vet_treatment)

for key in pets.keys():
    print(key, '->', pets[key])

print()

for value in pets.values():
    print(value)

print()

for key, value in pets.items():
    print(key, '->', value)
```

–≤—ã–≤–æ–¥–∏—Ç:

```no-highlight
dogs -> 15
cats -> 8
tigers -> 3
pythons -> 9

15
8
3
9

dogs -> 15
cats -> 8
tigers -> 3
pythons -> 9
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ ChainMap –æ–±—ä–µ–∫—Ç–µ

–î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ —Ç–∏–ø–∞¬†`ChainMap`¬†–º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ –∂–µ —Å–ø–æ—Å–æ–±—ã, —á—Ç–æ –∏ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–±—ã—á–Ω–æ–≥–æ —Å–ª–æ–≤–∞—Ä—è (—Ç–∏–ø¬†`dict`). –ú—ã –º–æ–∂–µ–º¬†–æ–±–Ω–æ–≤–ª—è—Ç—å, –¥–æ–±–∞–≤–ª—è—Ç—å, —É–¥–∞–ª—è—Ç—å –∏ –∏–∑–≤–ª–µ–∫–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑¬†`ChainMap`¬†–æ–±—ä–µ–∫—Ç–∞. –ü—Ä–∏ —ç—Ç–æ–º –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å, —á—Ç–æ –≤—Å–µ —ç—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–µ–π—Å—Ç–≤—É—é—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ –ø–µ—Ä–≤—ã–π –∏–∑ –æ–±—ä–µ–¥–∏–Ω—è–µ–º—ã—Ö —Å–ª–æ–≤–∞—Ä–µ–π.

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥:

```python
from collections import ChainMap

numbers = {'one': 1, 'two': 2}
letters = {'a': 'A', 'b': 'B'}

alpha_num = ChainMap(numbers, letters)
print(alpha_num)

alpha_num['c'] = 'C'
print(alpha_num)

alpha_num['b'] = 'b'
print(alpha_num)

alpha_num.pop('two')
print(alpha_num)

del alpha_num['c']
print(alpha_num)

alpha_num.clear()
print(alpha_num)
```

–≤—ã–≤–æ–¥–∏—Ç:

```no-highlight
ChainMap({'one': 1, 'two': 2}, {'a': 'A', 'b': 'B'})
ChainMap({'one': 1, 'two': 2, 'c': 'C'}, {'a': 'A', 'b': 'B'})
ChainMap({'one': 1, 'two': 2, 'c': 'C', 'b': 'b'}, {'a': 'A', 'b': 'B'})
ChainMap({'one': 1, 'c': 'C', 'b': 'b'}, {'a': 'A', 'b': 'B'})
ChainMap({'one': 1, 'b': 'b'}, {'a': 'A', 'b': 'B'})
ChainMap({}, {'a': 'A', 'b': 'B'})
```

–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —É–¥–∞–ª–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ –∫–ª—é—á—É, –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ—Ç –≤ –ø–µ—Ä–≤–æ–º —Å–ª–æ–≤–∞—Ä–µ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞¬†`KeyError`. –î–∞–∂–µ –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–Ω—ã–π –∫–ª—é—á –µ—Å—Ç—å –≤ –æ–¥–Ω–æ–º –∏–∑ –æ–±—ä–µ–¥–∏–Ω—è–µ–º—ã—Ö —Å–ª–æ–≤–∞—Ä–µ–π, –∫—Ä–æ–º–µ –ø–µ—Ä–≤–æ–≥–æ.

–ü–æ—Å–∫–æ–ª—å–∫—É –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è¬†`ChainMap`¬†–æ–±—ä–µ–∫—Ç–∞ –¥–µ–π—Å—Ç–≤—É—é—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ –ø–µ—Ä–≤—ã–π –∏–∑ –æ–±—ä–µ–¥–∏–Ω—è–µ–º—ã—Ö —Å–ª–æ–≤–∞—Ä–µ–π, —Ç–æ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥:

```python
from collections import ChainMap

numbers = {'one': 1, 'two': 2}
letters = {'a': 'A', 'b': 'B'}

alpha_num = ChainMap({}, numbers, letters)
print(alpha_num)

alpha_num['colon'] = ':'
alpha_num['comma'] = ','
alpha_num['period'] = '.'
print(alpha_num)
```

–≤—ã–≤–æ–¥–∏—Ç:

```no-highlight
ChainMap({}, {'one': 1, 'two': 2}, {'a': 'A', 'b': 'B'})
ChainMap({'colon': ':', 'comma': ',', 'period': '.'}, {'one': 1, 'two': 2}, {'a': 'A', 'b': 'B'})
```

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —É–∫–∞–∑—ã–≤–∞—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–µ—Ä–≤–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –¥–ª—è¬†`ChainMap`¬†–ø—É—Å—Ç–æ–π —Å–ª–æ–≤–∞—Ä—å, –º—ã –ø–æ–ª—É—á–∞–µ–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è¬†`ChainMap`¬†–æ–±—ä–µ–∫—Ç–∞ –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—é—Ç –æ–±—ä–µ–¥–∏–Ω—è–µ–º—ã–µ (–∏—Å—Ö–æ–¥–Ω—ã–µ) —Å–ª–æ–≤–∞—Ä–∏.

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 1.**¬†–í –∫–∞—á–µ—Å—Ç–≤–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—é –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–ª–æ–≤–∞—Ä–µ–π —Å –ø–æ–º–æ—â—å—é¬†`ChainMap`¬†–º—ã –º–æ–∂–µ–º –æ–±—ä–µ–¥–∏–Ω—è—Ç—å –∏—Ö —Å –ø–æ–º–æ—â—å—é —Å–ª–æ–≤–∞—Ä–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞¬†`update()`.

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥:

```python
from collections import ChainMap

for_adoption = {'dogs': 15, 'cats': 8, 'pythons': 9}
vet_treatment = {'hamsters': 2, 'tigers': 3}

pets = ChainMap(for_adoption, vet_treatment)
```

–º–æ–∂–Ω–æ¬†–ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å —Ç–∞–∫:

```python
for_adoption = {'dogs': 15, 'cats': 8, 'pythons': 9}
vet_treatment = {'hamsters': 2, 'tigers': 3}

pets = {}
pets.update(for_adoption)
pets.update(vet_treatment)
```

–í –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –≤—ã—à–µ –ø—Ä–∏–º–µ—Ä–µ –ø–æ–∏—Å–∫ –ø–æ —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–µ–º—É –æ–±—ä–µ–∫—Ç—É¬†`pets`¬†–±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤–æ. –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–ª–æ–≤–∞—Ä–µ–π —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞¬†`update()`¬†–∏–º–µ–µ—Ç —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ–º –∏—Ö —Å –ø–æ–º–æ—â—å—é¬†`ChainMap`. –ù–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ –º—ã —Ç–µ—Ä—è–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å¬†—É–ø—Ä–∞–≤–ª—è—Ç—å –¥–æ—Å—Ç—É–ø–æ–º –∫ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–º—Å—è –∫–ª—é—á–∞–º. –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –º–µ—Ç–æ–¥–∞¬†`update()`¬†–Ω–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ—Ç–∏—Ä–∞—é—Ç —Å—Ç–∞—Ä—ã–µ.

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥:

```python
for_adoption = {'dogs': 15, 'cats': 8, 'pythons': 9}
vet_treatment = {'dogs': 7, 'cats': 2, 'tigers': 3}

pets = {}
pets.update(for_adoption)
pets.update(vet_treatment)

print(pets)
```

–≤—ã–≤–æ–¥–∏—Ç:

```no-highlight
{'dogs': 7, 'cats': 2, 'pythons': 9, 'tigers': 3}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 2.**¬†–ù–∞–º –Ω–∏—á–µ–≥–æ –Ω–µ –º–µ—à–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±–æ–π –∏–∑ —Ä–∞–Ω–µ–µ –∏–∑—É—á–µ–Ω–Ω—ã—Ö —Å–ª–æ–≤–∞—Ä–µ–π:¬†`defaultdict, OrderedDict, Counter`.

```python
from collections import defaultdict, OrderedDict, Counter, ChainMap

numbers = OrderedDict(one=1, two=2)
letters = defaultdict(str, {'a': 'A', 'b': 'B'})
counter = Counter('aabbbcccc')

chain_map = ChainMap(numbers, letters, counter)

print(chain_map)
```

–≤—ã–≤–æ–¥–∏—Ç:

```no-highlight
ChainMap(OrderedDict([('one', 1), ('two', 2)]), defaultdict(<class 'str'>, {'a': 'A', 'b': 'B'}), Counter({'c': 4, 'b': 3, 'a': 2}))
```

–ü—Ä–∏ —ç—Ç–æ–º –Ω—É–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å, —á—Ç–æ –ø–æ–∏—Å–∫ –ø–æ¬†`ChainMap`¬†–æ–±—ä–µ–∫—Ç—É –±—É–¥–µ—Ç —É—á–∏—Ç—ã–≤–∞—Ç—å –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞ –ø–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º —Å–ª–æ–≤–∞—Ä—è–º. –î–ª—è¬†`defaultdict`, –≤ —Å–ª—É—á–∞–µ –µ—Å–ª–∏ –∫–ª—é—á –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –º—ã –±—É–¥–µ–º –ø–æ–ª—É—á–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –¥–ª—è¬†`Counter`¬†‚Äì –Ω—É–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 3.**¬†–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è¬†`len()`¬†–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∫–ª—é—á–µ–π¬†`ChainMap`¬†–æ–±—ä–µ–∫—Ç–∞.

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥:

```
from collections import ChainMap

for_adoption = {'dogs': 15, 'cats': 8, 'pythons': 9}
vet_treatment = {'dogs': 7, 'cats': 2, 'tigers': 3}

pets = ChainMap(for_adoption, vet_treatment)

print(len(pets))
```

–≤—ã–≤–æ–¥–∏—Ç:

```no-highlight
4
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 4.**¬†–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è –ª—é–±–æ–≥–æ —Å–ª–æ–≤–∞—Ä—è, –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ —Å–æ–∑–¥–∞–Ω¬†`ChainMap`, –∏–∑–º–µ–Ω—è–µ—Ç –∏ —Å–∞–º¬†`ChainMap`¬†–æ–±—ä–µ–∫—Ç.

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥:

```python
from collections import ChainMap

for_adoption = {'dogs': 15, 'cats': 8, 'pythons': 9}
vet_treatment = {'dogs': 7, 'cats': 2, 'tigers': 3}

pets = ChainMap(for_adoption, vet_treatment)
print(pets)

for_adoption['dogs'] = 10000
for_adoption['lions'] = 9

print(pets)
```

–≤—ã–≤–æ–¥–∏—Ç:

```no-highlight
ChainMap({'dogs': 15, 'cats': 8, 'pythons': 9}, {'dogs': 7, 'cats': 2, 'tigers': 3})
ChainMap({'dogs': 10000, 'cats': 8, 'pythons': 9, 'lions': 9}, {'dogs': 7, 'cats': 2, 'tigers': 3})
```

–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ, –∏–∑–º–µ–Ω–µ–Ω–∏–µ¬†`ChainMap`¬†–æ–±—ä–µ–∫—Ç–∞ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—é —Å–ª–æ–≤–∞—Ä—è, –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ –æ–Ω —Å–æ–∑–¥–∞–Ω.

‚Äã**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 5.**¬†‚Äã‚Äã–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Ç–æ, —á—Ç–æ¬†`ChainMap`¬†–º–æ–∂–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å (–∏–∑–º–µ–Ω—è—Ç—å, –≤—Å—Ç–∞–≤–ª—è—Ç—å –∏ —É–¥–∞–ª—è—Ç—å) –∑–Ω–∞—á–µ–Ω–∏—è –∫–ª—é—á–µ–π —Ç–æ–ª—å–∫–æ –≤ –ø–µ—Ä–≤–æ–º —Å–ª–æ–≤–∞—Ä–µ, –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ –ø–æ–∏—Å–∫ –∫–ª—é—á–µ–π –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –ø–æ –≤—Å–µ–º —Å–ª–æ–≤–∞—Ä—è–º –≤ —Å–ø–∏—Å–∫–µ.

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 6.**¬†–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ¬†`ChainMap`¬†–Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ¬†[—Å—Å—ã–ª–∫–µ](https://docs.python.org/3/library/collections.html#collections.ChainMap).

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 7.**¬†–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ¬†`ChainMap`¬†–Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ¬†[—Å—Å—ã–ª–∫–µ](https://docs-python.ru/standart-library/modul-collections-python/klass-chainmap-modulja-collections/).

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 8.**¬†–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥¬†`ChainMap`¬†–¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ¬†[—Å—Å—ã–ª–∫–µ](https://github.com/python/cpython/blob/main/Lib/collections/__init__.py). –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º –≤–∞–º –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –Ω–∏–º, —Ç–æ–≥–¥–∞ –≤–æ–ø—Ä–æ—Å–æ–≤ —Ç–æ—á–Ω–æ –Ω–µ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è üòé.
