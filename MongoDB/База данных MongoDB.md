MongoDB - это документо-ориентированная система управления базами данных (СУБД), которая использует формат JSON для хранения и обмена данными  
В отличие от реляционных баз данных, MongoDB не использует таблицы для хранения данных. Вместо этого MongoDB хранит данные в документах, которые представляют собой структурированные JSON-объекты. Документы могут содержать любое количество полей, и каждое поле может содержать любое значение, включая другой документ или массив.  
Основные типы данных в MongoDB:

- String - строка Unicode
- Integer - целое число
- Double - число с плавающей запятой
- Boolean - булево значение
- Date - дата и время
- Object ID - уникальный идентификатор документа
- Array - массив данных
- Binary data - бинарные данные, например, изображения или видео

Иерархия данных в MongoDB выглядит следующим образом:

- База данных (Database) - это набор коллекций.
- Коллекция (Collection) - это набор документов, который аналогичен таблице в реляционной базе данных.аждый документ хранится в коллекции и имеет уникальный идентификатор (ObjectId), который используется для поиска и обновления документов.
- Документ (Document) - это базовый элемент данных в MongoDB, который представляет собой структурированный JSON-объект.Документ может содержать любое количество полей, и каждое поле может иметь своё значение, включая другой документ или массив

**Установка MongoDB**

Для того, чтобы начать использовать MongoDB, необходимо скачать сервер. Вы можете это сделать по ссылке  
[https://www.mongodb.com/try/download/community](https://www.mongodb.com/try/download/community). Во время установки у вас спросят про установку MongoDB Compass. Его тоже можете установить по желанию, именно в нем мы будем делать наши первые запросы. В Windows по умолчанию сервер автоматически запускается, для того, чтобы остановить и запустить сервер откройте приложение Службы(Win+R -> services.msc), найдите MongoDB Server, нажмите правой кнопкой мышей и выберите состояние сервера.
Давайте запустим MongoDB Compass и нажмем Connect
По умолчанию создаются 3 базы. Выше представлен визуальный интерфейс, но нас интересует консоль(внизу MONGOSH)
Здесь мы будем писать наши команды. Для того, чтобы узнать список баз данных, можно написать `show databases;`  
Для того, чтобы создать новую и сразу переключиться используется оператор use <название базы>.

Все команды к базе данных начинаются с `db` Например `db.createCollection("myCollection")` Как вы понимаете, мы создали новую коллекцию.

Для вставки документов в MongoDB используется метод `insertOne` или `insertMany`. Например, чтобы вставить один документ в коллекцию "mycollection", нужно выполнить следующую команду: `db.mycollection.insertOne({ name: "John", age: 30 })`

Чтобы вставить несколько документов в коллекцию "mycollection", нужно выполнить следующую команду:

`db.mycollection.insertMany([     { name: "John", age: 30 },     { name: "Jane", age: 25 },     { name: "Bob", age: 40 }   ])`  
Для поиска документов в MongoDB используется метод `find`. Например, чтобы найти все документы в коллекции "mycollection", нужно выполнить следующую команду: `db.mycollection.find()`   
Результат будет примерно таким 

`{     _id: ObjectId("64207185b6d8feceb8b9122a"),     name: 'John',     age: 30   }   {     _id: ObjectId("642071f6b6d8feceb8b9122b"),     name: 'John',     age: 30   }   {     _id: ObjectId("642071f6b6d8feceb8b9122c"),     name: 'Jane',     age: 25   }`  
Как вы видите, каждый документ содержит поле _id. Оно создается автоматически и является уникальным

Чтобы найти документы, удовлетворяющие определенным условиям, используется метод `find` с параметрами. Например, чтобы найти все документы в коллекции "mycollection", у которых поле "name" равно "John", нужно выполнить следующую команду: `db.mycollection.find({ name: "John" })`

Для обновления документов в MongoDB используется метод `updateOne` или `updateMany`. Например, чтобы обновить поле "age" в документе, у которого поле "name" равно "John", нужно выполнить следующую команду`: db.mycollection.updateOne({ name: "John" }, { $set: { age: 35 } })`  
В данном случае мы используем оператор обновления $set. Существует множество других операторов, основные из них:

- `$set` - устанавливает значение поля в документе.
- `$unset` - удаляет поле из документа.
- `$inc` - увеличивает значение числового поля на указанное значение.
- `$push` - добавляет элемент в конец массива.
- `$pull` - удаляет элемент из массива.
- `$addToSet` - добавляет элемент в массив, если его еще нет в массиве.
- `$rename` - переименовывает поле в документе.

Для удаления документов в MongoDB используется метод `deleteOne` или `deleteMany`. Например, чтобы удалить документ, у которого поле "name" равно "John", нужно выполнить следующую команду: `db.mycollection.deleteOne({ name: "John" })`

**Использование MongoDB в Python**

Для того, чтобы работать с mongodb в питоне можно воспользоваться библиотека PyMongo.   
Напишем простой код

```
import pymongo

# Подключение к MongoDB
client = pymongo.MongoClient("mongodb://localhost:27017/")

# Получение коллекции из базы данных
db = client["mydatabase"]
collection = db["mycollection"]

# Выборка документов из коллекции
query = { "name": "John" }
results = collection.find(query)
# Вывод результатов
for result in results:
    print(result)
```

Основные команды аналогичны с командами, которые мы писали в консоли. Единственная разница в том, что в python используется _snake_case стилю_. Например 

```
collection.insert_one({"name": "Alex", "age": 15})
```

Если нам требуется обратиться к элементу по id, то ObjectId надо привести в правильный тип, используя класс ObjectId модуля bson.

```
from bson.objectid import ObjectId
result = collection.find({"_id": ObjectId("642071f6b6d8feceb8b9122b")})
```

В результате мы получаем тип Cursor. Он очень похож на итератор.

```
result = collection.find({"_id": ObjectId("642071f6b6d8feceb8b9122b")})
print(result)
```

```
result = collection.find({"_id": ObjectId("642071f6b6d8feceb8b9122b")})
print(list(result))
```