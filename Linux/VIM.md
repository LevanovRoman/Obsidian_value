
основные опции запуска:

- **+номер** - переместить курсор к указной строке после запуска.
- **+/шаблон** - выполнить поиск по шаблону и переместить курсор к первому вхождению
- **"+команда"** - выполнить команду после запуска программы
- **-b** - двоичный режим, для редактирования исполняемых файлов.
- **-d** - режим поиска различий в файлах, нужно указать несколько файлов для открытия.
- **-g** - графический режим.
- **-n** - не использовать автосохранение для восстановления файла при сбое.
- **-R** - режим только для чтения.
- **-w** - сохранить все действия в файл.
- **-x** - шифровать файл при записи.
- **-C** - режим совместимости с Vi.

### Перемещение курсора

Для перемещения используются такие команды:

- **h** - на один символ влево;
- **l** - на один символ вправо;
- **j** - на одну строку вниз;
- **k** - на одну строку вверх;
- **w** - на слово вправо;
- **b** - на слово влево;
- **H** - перейти в низ экрана;
- **G** - перейти в конец файла;
- **gg** - перейти в начало файла;
- **<номер>G** - перейти к конкретной строке;
- **.** - перейти к последнему редактированию.

 Если перед тем как нажать кнопку буквы нажать цифру, то эта команда будет повторена несколько раз. Например, 3j переведет курсор на три строки вверх.
 Очень часто возникает необходимость перейти в начало строки или в её конец. Команды Vim могут с этим помочь. Используйте команду **^** для того чтобы перейти в начало строки или команду **$** для перехода в конец строки. Обратите внимание, что для того чтобы набрать эти команды нужно зажать **Shift** и нажать **4** или **6**.

### Режим редактирования

Для переключения в режим редактирования используются такие команды:

- **i** - вставить текст с позиции курсора, символ под курсором будет заменен;
- **I** - вставить текст в начало строки;
- **a** - добавить текст начиная от позиции курсора;
- **o** - вставить новую строку после этой и начать редактирование;
- **O** - вставить новую строку перед этой и начать редактирование;

К этим командам тоже применимы символы повторения. Поэкспериментируйте, можно получить интересный и не совсем ожидаемый результат. Когда закончите редактирование, вы можете переключится обратно в командный режим нажав клавишу **Esc**.

### Удаление символов и строк

Для этого применяются такие команды:

- **d** - удалить символ;
- **dd** - удалить всю строку;
- **D** - удалить символы начиная от курсора и до конца строки.

Эти команды редактора vim работают немного по-другому после нажатия одной из них ничего не произойдет. Мы еще можем задать сколько раз нужно повторить команду, но также нужно указать количество символов, к которым она будет применена и направление, с помощью кнопок перемещения курсора. Это делается после нажатия команды. Например, для того чтобы удалить один символ справа наберите **dl**. Чтобы удалить два символа справа от курсора нажмите **d3l**, а чтобы удалить три строки вниз - **d3j**.

### Замена символов

Для этого существуют две команды:

- **r** - заменить текущий символ;
- **R** - заменить несколько символов.

Первая команда позволяет заменить один символ и вернутся в командный режим. Вторая команда будет заменять все символы, пока вы не вернетесь в командный режим нажатием клавиши **Esc**

###  Отмена и повтор действий

В обычных текстовых редакторах вы можете использовать Ctrl+Z для отмены последних действий. В редакторе Vim есть собственная история действий. Она доступна в командном режиме. Если вы хотите отменить последнее изменение, просто нажмите **u**. Обратите внимание, что каждое следующее нажатие этой кнопки будет отменять предыдущее изменение сделанное в командном режиме. Например, если вы удалили один символ командой **d**, то он будет восстановлен.

Однако, если вы переключитесь в режим редактирования и сделаете там много изменений, а потом вернетесь в командный режим, то все эти изменения будут рассматриваться как одно. Если вы случайно отменили что-то важное, то можете повторить действие, нажав **Ctrl+r**

Вот некоторые команды для отмены и повтора действий:

- **u** - отменить последнее действие;
- **U** - отменить последнее действие в текущей строке;
- **.** - повторить последнее действие;
- **Ctrl+r** - отменить отмену последнего действия.

### Командная строка Vim

Командная строка Vim запускается в командном режиме нажатием двоеточия - "**:**". Здесь доступны команды для сохранения файла и выхода из редактора, настройки внешнего вида и взаимодействия с внешней оболочкой. Рассмотрим наиболее часто используемые команды редактора vim:

- **:w** - сохранить файл;
- **:q** - закрыть редактор;
- **:q!** - закрыть редактор без сохранения;
- **:e файл** - прочитать содержимое файла в позицию курсора;
- **:r файл** - вставить содержимое файла в следующую строку;
- **:r!** - выполнить команду оболочки и вставить ответ в редактор;
- **:set переменная=значение** - установить значение переменной, например, tabstop=4, или set number, с помощью этой команды можно управлять многими аспектами работы vim.
- **:buffers** - посмотреть открытые файлы;
- **:reg** - посмотреть содержимое буферов обмена.

### Выделение и буфер обмена

Нажмите **v** когда вы находитесь в командном режиме для перехода в режим выделения. Затем вы можете использовать кнопки перемещения курсора **h, j, k, l** для выделения нужных символов или строк
Теперь вы можете выполнять какие-либо действия с выделенным текстом. Например, можно его удалить, нажав кнопку **d**. Для того чтобы сбросить выделение нажмите кнопку **Esc**. Это ещё не всё. У Vim есть свой буфер обмена, который можно использовать для копирования и вставки текста. Этот буфер обмена состоит из нескольких регистров. Если не задать иное, то все команды работают с буфером обмена по умолчанию. Вот основные команды для копирования и вставки текста:

- **y** - скопировать в буфер обмена;
- **yy** or **Y** - скопировать строку в буфер обмена;
- **x** - вырезать в буфер обмена;
- **p** - вставить из буфера обмена.
Вы можете скопировать текст в регистр по умолчанию, а затем скопировать его оттуда в системный буфер обмена с помощью командной строки Vim. Для этого скопируйте текст как обычно, а затем используйте такую команду:

`:let @+=@"`

После этого вы сможете вставить текст в любом месте операционной системы.

###  Поиск и замена в Vim

если нужно найти символ в строке, нажмите **f** и наберите нужный символ, курсор будет перемещен к его позиции.

Для поиска по всему файлу используйте команду **/**. После нее нужно ввести слово, которое нужно найти. Для поиска следующего вхождения используйте **n**, для предыдущего - **N**.

Вот основные команды для поиска:

- **f** - найти один символ;
- **/** - искать несколько символов;
- **n** - найти следующее вхождение;
- **N** - найти предыдущее вхождение.

Для замены будет использоваться немного другая конструкция:

`:%s/искать/заменить/g`

Например, давайте заменим все вхождения слова **Alice** на **Robert:**

`:%s/Alice/Robert/g`

Двоеточие запускает командную оболочку с командой **s** для замены. Символ **%** означает что обрабатывать нужно весь файл, а **g** значит, что нужно обработать все найденные строки, а не только первую. Чтобы программа спрашивала перед каждой заменой можно добавить в конец строки опцию **c**.

